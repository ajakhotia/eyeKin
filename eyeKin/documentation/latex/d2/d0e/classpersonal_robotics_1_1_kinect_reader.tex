\hypertarget{classpersonal_robotics_1_1_kinect_reader}{}\section{personal\+Robotics\+:\+:Kinect\+Reader Class Reference}
\label{classpersonal_robotics_1_1_kinect_reader}\index{personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}}


This class provides an polling based interface to retrieve image frames from Kinect v2.\+0 for Windows(8.\+1)  




{\ttfamily \#include $<$kinect\+Reader.\+h$>$}

Inheritance diagram for personal\+Robotics\+:\+:Kinect\+Reader\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d2/d0e/classpersonal_robotics_1_1_kinect_reader}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpersonal_robotics_1_1_kinect_reader_a69d11390fa49438a1a902c224b7e3b5c}{Kinect\+Reader} ()
\begin{DoxyCompactList}\small\item\em Default constructor. Acquires required interface as the object is constructed. \end{DoxyCompactList}\item 
\hyperlink{classpersonal_robotics_1_1_kinect_reader_a66a9f845a60a1bed3ccf6c7883a47a9c}{$\sim$\+Kinect\+Reader} ()
\begin{DoxyCompactList}\small\item\em Default destructor. Releases acquired interfaces before destruction. \end{DoxyCompactList}\item 
void \hyperlink{classpersonal_robotics_1_1_kinect_reader_a503882cdd6ad197882c0e8c4eab14664}{map\+Infrared\+To\+Color} (std\+::vector$<$ cv\+::\+Point $>$ \&infrared\+Points, std\+::vector$<$ cv\+::\+Point $>$ \&color\+Points, Color\+Space\+Point $\ast$mapping)
\begin{DoxyCompactList}\small\item\em Converts a set of points from depth/infrared frame to color frame. \end{DoxyCompactList}\item 
void \hyperlink{classpersonal_robotics_1_1_kinect_reader_ab4e331adf22016e45341a0a121b31ad7}{poll\+Frames} (bool save)
\begin{DoxyCompactList}\small\item\em Polls for a new frame and generates a point cloud from the depth map. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a9263a03547aa8f9d401d3e2ad34f5e4f}{}void \hyperlink{classpersonal_robotics_1_1_kinect_reader_a9263a03547aa8f9d401d3e2ad34f5e4f}{kinect\+Thread\+Routine} ()\label{classpersonal_robotics_1_1_kinect_reader_a9263a03547aa8f9d401d3e2ad34f5e4f}

\begin{DoxyCompactList}\small\item\em Continuously polls for new images by calling \hyperlink{classpersonal_robotics_1_1_kinect_reader_ab4e331adf22016e45341a0a121b31ad7}{poll\+Frames()} in a loop. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_adc75d3fe175de9d6fea8b48ae90de06c}{}void \hyperlink{classpersonal_robotics_1_1_kinect_reader_adc75d3fe175de9d6fea8b48ae90de06c}{start\+Kinect} ()\label{classpersonal_robotics_1_1_kinect_reader_adc75d3fe175de9d6fea8b48ae90de06c}

\begin{DoxyCompactList}\small\item\em Spawns a thread to run \hyperlink{classpersonal_robotics_1_1_kinect_reader_a9263a03547aa8f9d401d3e2ad34f5e4f}{kinect\+Thread\+Routine()} to continuosly poll for frames. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a40ee858f5274108e8b9ad4a13c14cbd2}{}void \hyperlink{classpersonal_robotics_1_1_kinect_reader_a40ee858f5274108e8b9ad4a13c14cbd2}{stop\+Kinect} ()\label{classpersonal_robotics_1_1_kinect_reader_a40ee858f5274108e8b9ad4a13c14cbd2}

\begin{DoxyCompactList}\small\item\em Stops the kinect\+Reader thread and merges it cleanly with the parent thread. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a03ac1f0fd33411971f34249be1495edb}{}I\+Coordinate\+Mapper $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_a03ac1f0fd33411971f34249be1495edb}{get\+Coordinate\+Mapper} ()\label{classpersonal_robotics_1_1_kinect_reader_a03ac1f0fd33411971f34249be1495edb}

\begin{DoxyCompactList}\small\item\em Gets a pointer to the coordinate mapper interface acquired during construction of the object. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_afb46f664c9181b8ceb9abdb46afe0482}{}cv\+::\+Mat $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_afb46f664c9181b8ceb9abdb46afe0482}{get\+Color\+Image\+Ptr} ()\label{classpersonal_robotics_1_1_kinect_reader_afb46f664c9181b8ceb9abdb46afe0482}

\begin{DoxyCompactList}\small\item\em Gets a pointer to the color image matrix. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_aee0181e76408bc5f9a2771dea5890447}{}cv\+::\+Mat $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_aee0181e76408bc5f9a2771dea5890447}{get\+I\+Rimage\+Ptr} ()\label{classpersonal_robotics_1_1_kinect_reader_aee0181e76408bc5f9a2771dea5890447}

\begin{DoxyCompactList}\small\item\em Gets a pointer to the infrared image matrix. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_ae794fee5a9061c16d40237481f9ed913}{}cv\+::\+Mat $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_ae794fee5a9061c16d40237481f9ed913}{get\+Depth\+Image\+Ptr} ()\label{classpersonal_robotics_1_1_kinect_reader_ae794fee5a9061c16d40237481f9ed913}

\begin{DoxyCompactList}\small\item\em Gets a pointer to the depth image matrix. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a92e2afe02efab759262e4638991c285f}{}Camera\+Space\+Point $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_a92e2afe02efab759262e4638991c285f}{get\+Point\+Cloud\+Ptr} ()\label{classpersonal_robotics_1_1_kinect_reader_a92e2afe02efab759262e4638991c285f}

\begin{DoxyCompactList}\small\item\em Gets a pointer to the point cloud computed by the coordinate mapper. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_aa3490e36da08c2f89908706a76a6508f}{}size\+\_\+t \hyperlink{classpersonal_robotics_1_1_kinect_reader_aa3490e36da08c2f89908706a76a6508f}{get\+Point\+Cloud\+Size} ()\label{classpersonal_robotics_1_1_kinect_reader_aa3490e36da08c2f89908706a76a6508f}

\begin{DoxyCompactList}\small\item\em Gets the size of the point cloud, i.\+e the number of points. It is equal to the number of pixels in depth image. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a209d0248b8df3f39214a850dd2bd97bb}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_kinect_reader_a209d0248b8df3f39214a850dd2bd97bb}{new\+Frame\+Arrived}\label{classpersonal_robotics_1_1_kinect_reader_a209d0248b8df3f39214a850dd2bd97bb}

\begin{DoxyCompactList}\small\item\em Set to true each time a new frame is acquired. The consumer function is responsible to set it to false once the frame is used. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a9e443388b4e4bbbc5541f89d40a4c80e}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_kinect_reader_a9e443388b4e4bbbc5541f89d40a4c80e}{stop\+Kinect\+Flag}\label{classpersonal_robotics_1_1_kinect_reader_a9e443388b4e4bbbc5541f89d40a4c80e}

\begin{DoxyCompactList}\small\item\em Control varibale for the while loop in \hyperlink{classpersonal_robotics_1_1_kinect_reader_a9263a03547aa8f9d401d3e2ad34f5e4f}{kinect\+Thread\+Routine()}. The loop ends and the \hyperlink{classpersonal_robotics_1_1_kinect_reader_afe24150fcff220507b3d9dcd9d0bee97}{reader\+Thread} exits when this is set to true by \hyperlink{classpersonal_robotics_1_1_kinect_reader_a40ee858f5274108e8b9ad4a13c14cbd2}{stop\+Kinect()} function. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a88b3822051a0e9bfbcf119c67deda0ec}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_kinect_reader_a88b3822051a0e9bfbcf119c67deda0ec}{is\+Color\+Allocated}\label{classpersonal_robotics_1_1_kinect_reader_a88b3822051a0e9bfbcf119c67deda0ec}

\begin{DoxyCompactList}\small\item\em This is set to true once when the first frame arrives and the memory to store color image data is allocated based on the size of the image. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a2f7a2f527563a51aecc274d845345bfd}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_kinect_reader_a2f7a2f527563a51aecc274d845345bfd}{is\+Depth\+Allocated}\label{classpersonal_robotics_1_1_kinect_reader_a2f7a2f527563a51aecc274d845345bfd}

\begin{DoxyCompactList}\small\item\em This is set to true once when the first frame arrives and the memory to store depth image data is allocated based on the size of the image. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_ab9238f5c5b09575d866b10ad0ef8ea9f}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_kinect_reader_ab9238f5c5b09575d866b10ad0ef8ea9f}{is\+I\+Rallocated}\label{classpersonal_robotics_1_1_kinect_reader_ab9238f5c5b09575d866b10ad0ef8ea9f}

\begin{DoxyCompactList}\small\item\em This is set to true once when the first frame arrives and the memory to store infrared image data is allocated based on the size of the image. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_af8a4fd4f23c05743cf4f5ff5a9e5eb78}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_kinect_reader_af8a4fd4f23c05743cf4f5ff5a9e5eb78}{rgb\+Mutex}\label{classpersonal_robotics_1_1_kinect_reader_af8a4fd4f23c05743cf4f5ff5a9e5eb78}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_kinect_reader_a32b1651f2e04d3d53a0f1bd6b0b490a1}{rgb\+Image}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a815a1807b9d1f78962840e490715cfbf}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_kinect_reader_a815a1807b9d1f78962840e490715cfbf}{rgba\+Mutex}\label{classpersonal_robotics_1_1_kinect_reader_a815a1807b9d1f78962840e490715cfbf}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_kinect_reader_a57e3ccdf857990fca134a3c01898ceb7}{rgba\+Image}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a706d092b43c447084628ae31444006f5}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_kinect_reader_a706d092b43c447084628ae31444006f5}{depth\+Mutex}\label{classpersonal_robotics_1_1_kinect_reader_a706d092b43c447084628ae31444006f5}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}{depth\+Image}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_adcd2d452bf2355b4142083201c23f024}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_kinect_reader_adcd2d452bf2355b4142083201c23f024}{ir\+Mutex}\label{classpersonal_robotics_1_1_kinect_reader_adcd2d452bf2355b4142083201c23f024}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_kinect_reader_af191fde626809b8b09fd062de68df184}{ir\+Image}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a37b014e866d224763ea9675c0056a3d3}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_kinect_reader_a37b014e866d224763ea9675c0056a3d3}{point\+Cloud\+Mutex}\label{classpersonal_robotics_1_1_kinect_reader_a37b014e866d224763ea9675c0056a3d3}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_kinect_reader_a0340f3ac6506c0205420120ba60f6614}{point\+Cloud\+Ptr}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a5c3da75401f463259923330d4dcb51c6}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_kinect_reader_a5c3da75401f463259923330d4dcb51c6}{depth2color\+Mapping\+Mutex}\label{classpersonal_robotics_1_1_kinect_reader_a5c3da75401f463259923330d4dcb51c6}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_kinect_reader_a1c33dad149a819407956d19be1fb2966}{depth2color\+Mapping\+Ptr}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a3c69a0735db377ac7b88a99921c10d5f}{}I\+Kinect\+Sensor $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_a3c69a0735db377ac7b88a99921c10d5f}{kinect\+Ptr}\label{classpersonal_robotics_1_1_kinect_reader_a3c69a0735db377ac7b88a99921c10d5f}

\begin{DoxyCompactList}\small\item\em Holds the pointer to the kinect sensor acquired during construction of object. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_ab4f2a7d08cb1b7d4452e6d8e5d28170e}{}I\+Multi\+Source\+Frame\+Reader $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_ab4f2a7d08cb1b7d4452e6d8e5d28170e}{reader\+Ptr}\label{classpersonal_robotics_1_1_kinect_reader_ab4f2a7d08cb1b7d4452e6d8e5d28170e}

\begin{DoxyCompactList}\small\item\em Holds the pointer to coordinate mapper obtained from the kinect sensor during construction. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a9970b3d07116313d5503d48a34beb4c1}{}I\+Coordinate\+Mapper $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_a9970b3d07116313d5503d48a34beb4c1}{coordinate\+Mapper\+Ptr}\label{classpersonal_robotics_1_1_kinect_reader_a9970b3d07116313d5503d48a34beb4c1}

\begin{DoxyCompactList}\small\item\em Holds the pointer to multi-\/source frame reader obtained from the kinect sensor during construction. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_afe24150fcff220507b3d9dcd9d0bee97}{}std\+::thread \hyperlink{classpersonal_robotics_1_1_kinect_reader_afe24150fcff220507b3d9dcd9d0bee97}{reader\+Thread}\label{classpersonal_robotics_1_1_kinect_reader_afe24150fcff220507b3d9dcd9d0bee97}

\begin{DoxyCompactList}\small\item\em Handle to the thread that run \hyperlink{classpersonal_robotics_1_1_kinect_reader_a9263a03547aa8f9d401d3e2ad34f5e4f}{kinect\+Thread\+Routine()}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a95d4de164416824564674b8ee0ec97de}{}int \hyperlink{classpersonal_robotics_1_1_kinect_reader_a95d4de164416824564674b8ee0ec97de}{rgb\+Width}\label{classpersonal_robotics_1_1_kinect_reader_a95d4de164416824564674b8ee0ec97de}

\begin{DoxyCompactList}\small\item\em Width of the color image in pixels. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_aafddc6d28c178ff10260b42e1e36c1a8}{}int \hyperlink{classpersonal_robotics_1_1_kinect_reader_aafddc6d28c178ff10260b42e1e36c1a8}{rgb\+Height}\label{classpersonal_robotics_1_1_kinect_reader_aafddc6d28c178ff10260b42e1e36c1a8}

\begin{DoxyCompactList}\small\item\em Height of the color image in pixels. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_ad18fdd150ee1d257f5ecb2d6bbff34c2}{}int \hyperlink{classpersonal_robotics_1_1_kinect_reader_ad18fdd150ee1d257f5ecb2d6bbff34c2}{depth\+Width}\label{classpersonal_robotics_1_1_kinect_reader_ad18fdd150ee1d257f5ecb2d6bbff34c2}

\begin{DoxyCompactList}\small\item\em Width of the depth image in pixels. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_ab29a8788a51b831ac162367649fe74a8}{}int \hyperlink{classpersonal_robotics_1_1_kinect_reader_ab29a8788a51b831ac162367649fe74a8}{depth\+Height}\label{classpersonal_robotics_1_1_kinect_reader_ab29a8788a51b831ac162367649fe74a8}

\begin{DoxyCompactList}\small\item\em Height of the depth image in pixels. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a32b1651f2e04d3d53a0f1bd6b0b490a1}{}cv\+::\+Mat \hyperlink{classpersonal_robotics_1_1_kinect_reader_a32b1651f2e04d3d53a0f1bd6b0b490a1}{rgb\+Image}\label{classpersonal_robotics_1_1_kinect_reader_a32b1651f2e04d3d53a0f1bd6b0b490a1}

\begin{DoxyCompactList}\small\item\em Holds 3 channel color image(8 bits per channel) extracted from the 4-\/channel R\+G\+B\+A image. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a57e3ccdf857990fca134a3c01898ceb7}{}cv\+::\+Mat \hyperlink{classpersonal_robotics_1_1_kinect_reader_a57e3ccdf857990fca134a3c01898ceb7}{rgba\+Image}\label{classpersonal_robotics_1_1_kinect_reader_a57e3ccdf857990fca134a3c01898ceb7}

\begin{DoxyCompactList}\small\item\em Holds 4 channel color image(8 bits per channel) as produced by kinect A\+P\+I with an empty alpha channel. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}{}cv\+::\+Mat \hyperlink{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}{depth\+Image}\label{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}

\begin{DoxyCompactList}\small\item\em Holds the single channel 16-\/bit depth image. The birghtness of each pixel is equal to its depth expressed in millimeters. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_af191fde626809b8b09fd062de68df184}{}cv\+::\+Mat \hyperlink{classpersonal_robotics_1_1_kinect_reader_af191fde626809b8b09fd062de68df184}{ir\+Image}\label{classpersonal_robotics_1_1_kinect_reader_af191fde626809b8b09fd062de68df184}

\begin{DoxyCompactList}\small\item\em Holds the single channel 16-\/bit grayscale I\+R images. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a0811f6812e14b90923377cc165e267d4}{}cv\+::\+Mat \hyperlink{classpersonal_robotics_1_1_kinect_reader_a0811f6812e14b90923377cc165e267d4}{dummy}\label{classpersonal_robotics_1_1_kinect_reader_a0811f6812e14b90923377cc165e267d4}

\begin{DoxyCompactList}\small\item\em Holds a dummy image for any misc. use. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a0340f3ac6506c0205420120ba60f6614}{}Camera\+Space\+Point $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_a0340f3ac6506c0205420120ba60f6614}{point\+Cloud\+Ptr}\label{classpersonal_robotics_1_1_kinect_reader_a0340f3ac6506c0205420120ba60f6614}

\begin{DoxyCompactList}\small\item\em Array of points expressed in 3\+D camera space. The unit of distance is meter. The points are generated by coordinate mapper based the \hyperlink{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}{depth\+Image}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a1c33dad149a819407956d19be1fb2966}{}Color\+Space\+Point $\ast$ \hyperlink{classpersonal_robotics_1_1_kinect_reader_a1c33dad149a819407956d19be1fb2966}{depth2color\+Mapping\+Ptr}\label{classpersonal_robotics_1_1_kinect_reader_a1c33dad149a819407956d19be1fb2966}

\begin{DoxyCompactList}\small\item\em Holds a mapping of points in \hyperlink{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}{depth\+Image} to their correspoing points in \hyperlink{classpersonal_robotics_1_1_kinect_reader_a32b1651f2e04d3d53a0f1bd6b0b490a1}{rgb\+Image}. The mapping is a function of the \hyperlink{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}{depth\+Image} itself. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class wraps around the basic Kinect 2.\+0 A\+P\+I provided by Microsoft Kinect S\+D\+K and provides a polling based interface to retrieve image frames. The frames are in sync as they are retrieved using a multi-\/source frame reader. This class runs a thread of its own to poll for frames and sets a \hyperlink{}{Mutex\+Bool} when new frames are acquired.

T\+O\+D\+O\+: \begin{DoxyItemize}
\item {\ttfamily Move} the code for acquisiotion of kinect sensor and other interfaces to Start() function in order to make sure that the object constructor is fail proof. \end{DoxyItemize}


Definition at line 26 of file kinect\+Reader.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a69d11390fa49438a1a902c224b7e3b5c}{}\index{personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}!Kinect\+Reader@{Kinect\+Reader}}
\index{Kinect\+Reader@{Kinect\+Reader}!personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}}
\subsubsection[{Kinect\+Reader}]{\setlength{\rightskip}{0pt plus 5cm}personal\+Robotics\+::\+Kinect\+Reader\+::\+Kinect\+Reader (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classpersonal_robotics_1_1_kinect_reader_a69d11390fa49438a1a902c224b7e3b5c}
Acquires the default kinect sensor and retrieves the coordinate mapper and multi-\/souce frame reader. 

Definition at line 4 of file kinect\+Reader.\+cpp.

\hypertarget{classpersonal_robotics_1_1_kinect_reader_a66a9f845a60a1bed3ccf6c7883a47a9c}{}\index{personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}!````~Kinect\+Reader@{$\sim$\+Kinect\+Reader}}
\index{````~Kinect\+Reader@{$\sim$\+Kinect\+Reader}!personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}}
\subsubsection[{$\sim$\+Kinect\+Reader}]{\setlength{\rightskip}{0pt plus 5cm}personal\+Robotics\+::\+Kinect\+Reader\+::$\sim$\+Kinect\+Reader (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classpersonal_robotics_1_1_kinect_reader_a66a9f845a60a1bed3ccf6c7883a47a9c}
Releases acquired interfaces before destruction of object. However, the destructor does not call the Stop() function. Destruction of the object prior to a call for Stop() will may lead to fatal errors. 

Definition at line 41 of file kinect\+Reader.\+cpp.



\subsection{Member Function Documentation}
\hypertarget{classpersonal_robotics_1_1_kinect_reader_a503882cdd6ad197882c0e8c4eab14664}{}\index{personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}!map\+Infrared\+To\+Color@{map\+Infrared\+To\+Color}}
\index{map\+Infrared\+To\+Color@{map\+Infrared\+To\+Color}!personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}}
\subsubsection[{map\+Infrared\+To\+Color}]{\setlength{\rightskip}{0pt plus 5cm}void personal\+Robotics\+::\+Kinect\+Reader\+::map\+Infrared\+To\+Color (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ cv\+::\+Point $>$ \&}]{infrared\+Points, }
\item[{std\+::vector$<$ cv\+::\+Point $>$ \&}]{color\+Points, }
\item[{Color\+Space\+Point $\ast$}]{mapping}
\end{DoxyParamCaption}
)}\label{classpersonal_robotics_1_1_kinect_reader_a503882cdd6ad197882c0e8c4eab14664}
Converts a set of points represented in depth/infrared frame to their corresponding point represented in the color frame. 

Definition at line 56 of file kinect\+Reader.\+cpp.

\hypertarget{classpersonal_robotics_1_1_kinect_reader_ab4e331adf22016e45341a0a121b31ad7}{}\index{personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}!poll\+Frames@{poll\+Frames}}
\index{poll\+Frames@{poll\+Frames}!personal\+Robotics\+::\+Kinect\+Reader@{personal\+Robotics\+::\+Kinect\+Reader}}
\subsubsection[{poll\+Frames}]{\setlength{\rightskip}{0pt plus 5cm}void personal\+Robotics\+::\+Kinect\+Reader\+::poll\+Frames (
\begin{DoxyParamCaption}
\item[{bool}]{save}
\end{DoxyParamCaption}
)}\label{classpersonal_robotics_1_1_kinect_reader_ab4e331adf22016e45341a0a121b31ad7}
Polls for a new frame and set \hyperlink{classpersonal_robotics_1_1_kinect_reader_a209d0248b8df3f39214a850dd2bd97bb}{new\+Frame\+Arrived} to true if new image frames are acquired. The function uses \hyperlink{classpersonal_robotics_1_1_kinect_reader_af8a4fd4f23c05743cf4f5ff5a9e5eb78}{rgb\+Mutex}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_a815a1807b9d1f78962840e490715cfbf}{rgba\+Mutex}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_a706d092b43c447084628ae31444006f5}{depth\+Mutex}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_adcd2d452bf2355b4142083201c23f024}{ir\+Mutex}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_a37b014e866d224763ea9675c0056a3d3}{point\+Cloud\+Mutex} and \hyperlink{classpersonal_robotics_1_1_kinect_reader_a5c3da75401f463259923330d4dcb51c6}{depth2color\+Mapping\+Mutex} to prevent race conditions while writinng data to \hyperlink{classpersonal_robotics_1_1_kinect_reader_a32b1651f2e04d3d53a0f1bd6b0b490a1}{rgb\+Image}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_a57e3ccdf857990fca134a3c01898ceb7}{rgba\+Image}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_a4bfa3f18889f77253a76ecd2a6999e60}{depth\+Image}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_af191fde626809b8b09fd062de68df184}{ir\+Image}, \hyperlink{classpersonal_robotics_1_1_kinect_reader_a0340f3ac6506c0205420120ba60f6614}{point\+Cloud\+Ptr} and \hyperlink{classpersonal_robotics_1_1_kinect_reader_a1c33dad149a819407956d19be1fb2966}{depth2color\+Mapping\+Ptr} respectively. 

Definition at line 73 of file kinect\+Reader.\+cpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/kinect\+Reader.\+h\item 
src/kinect\+Reader.\+cpp\end{DoxyCompactItemize}
