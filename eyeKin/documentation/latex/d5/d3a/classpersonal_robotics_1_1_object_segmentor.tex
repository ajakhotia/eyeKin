\hypertarget{classpersonal_robotics_1_1_object_segmentor}{}\section{personal\+Robotics\+:\+:Object\+Segmentor Class Reference}
\label{classpersonal_robotics_1_1_object_segmentor}\index{personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}}
Inheritance diagram for personal\+Robotics\+:\+:Object\+Segmentor\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d5/d3a/classpersonal_robotics_1_1_object_segmentor}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpersonal_robotics_1_1_object_segmentor_a09e8d870efcb51ed0cb0aa95b6c28552}{Object\+Segmentor} ()
\begin{DoxyCompactList}\small\item\em Default constructor. Initializes all the parameters to the defaults specified in \hyperlink{}{setting.\+h} . \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a970e0509a3d2d02ca856e707e3c9d767}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_a970e0509a3d2d02ca856e707e3c9d767}{lock\+List} ()\label{classpersonal_robotics_1_1_object_segmentor_a970e0509a3d2d02ca856e707e3c9d767}

\begin{DoxyCompactList}\small\item\em Locks the \hyperlink{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}{entity\+List}. The callers should call \hyperlink{classpersonal_robotics_1_1_object_segmentor_a935000c5a4446dc90c768e4fa0c104b9}{unlock\+List()} once the processing is completed. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a935000c5a4446dc90c768e4fa0c104b9}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_a935000c5a4446dc90c768e4fa0c104b9}{unlock\+List} ()\label{classpersonal_robotics_1_1_object_segmentor_a935000c5a4446dc90c768e4fa0c104b9}

\begin{DoxyCompactList}\small\item\em Unlocks the \hyperlink{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}{entity\+List}. This method should not be called before a call to \hyperlink{classpersonal_robotics_1_1_object_segmentor_a970e0509a3d2d02ca856e707e3c9d767}{lock\+List()} by the same thread. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_ad5b256a48208fbbb84f8e06b14f5e1c4}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad5b256a48208fbbb84f8e06b14f5e1c4}{lock\+Pcl} ()\label{classpersonal_robotics_1_1_object_segmentor_ad5b256a48208fbbb84f8e06b14f5e1c4}

\begin{DoxyCompactList}\small\item\em Locks \hyperlink{classpersonal_robotics_1_1_object_segmentor_afd8a8a0d82a7116b78142f4ef3fa3c49}{pcl\+Ptr}. The caller should call \hyperlink{classpersonal_robotics_1_1_object_segmentor_a534a14468aaeb1d3264286b0e070d865}{unlock\+Pcl()} once the processing is completed. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a534a14468aaeb1d3264286b0e070d865}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_a534a14468aaeb1d3264286b0e070d865}{unlock\+Pcl} ()\label{classpersonal_robotics_1_1_object_segmentor_a534a14468aaeb1d3264286b0e070d865}

\begin{DoxyCompactList}\small\item\em Unlocks \hyperlink{classpersonal_robotics_1_1_object_segmentor_afd8a8a0d82a7116b78142f4ef3fa3c49}{pcl\+Ptr}. This method should not be called before a call to \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad5b256a48208fbbb84f8e06b14f5e1c4}{lock\+Pcl()} by the same thread. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a688bd8c15d467f7ed1c5e25b09524a40}{}std\+::vector$<$ \hyperlink{classpersonal_robotics_1_1_entity}{personal\+Robotics\+::\+Entity} $>$ $\ast$ \hyperlink{classpersonal_robotics_1_1_object_segmentor_a688bd8c15d467f7ed1c5e25b09524a40}{get\+Entity\+List} ()\label{classpersonal_robotics_1_1_object_segmentor_a688bd8c15d467f7ed1c5e25b09524a40}

\begin{DoxyCompactList}\small\item\em Fetches a pointer to \hyperlink{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}{entity\+List}. The calling function should also use \hyperlink{classpersonal_robotics_1_1_object_segmentor_a970e0509a3d2d02ca856e707e3c9d767}{lock\+List()} and \hyperlink{classpersonal_robotics_1_1_object_segmentor_a935000c5a4446dc90c768e4fa0c104b9}{unlock\+List()} appropriately to avoid race conditions. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_ac43076bc6a89431f97e847bd38bce43f}{}cv\+::\+Point2f $\ast$ \hyperlink{classpersonal_robotics_1_1_object_segmentor_ac43076bc6a89431f97e847bd38bce43f}{get\+R\+G\+Bpixel\+Size} ()\label{classpersonal_robotics_1_1_object_segmentor_ac43076bc6a89431f97e847bd38bce43f}

\begin{DoxyCompactList}\small\item\em Fetches a pointer to \hyperlink{classpersonal_robotics_1_1_object_segmentor_a7ba1dca4b7433b87ed9028227d0929b3}{rgb\+Pixel\+Size} . \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a60a0e5c08c746773299a400ac8aaec74}{}std\+::vector$<$ \hyperlink{structpersonal_robotics_1_1_i_d_look_up}{I\+D\+Look\+Up} $>$ $\ast$ \hyperlink{classpersonal_robotics_1_1_object_segmentor_a60a0e5c08c746773299a400ac8aaec74}{get\+I\+D\+List} ()\label{classpersonal_robotics_1_1_object_segmentor_a60a0e5c08c746773299a400ac8aaec74}

\begin{DoxyCompactList}\small\item\em Fetches a pointer to \hyperlink{classpersonal_robotics_1_1_object_segmentor_a11e5491339e7f1b543835f10a5daef46}{previous\+I\+D\+List} . \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a412cac1506b709c06548bdfbac1f143d}{}bool \hyperlink{classpersonal_robotics_1_1_object_segmentor_a412cac1506b709c06548bdfbac1f143d}{get\+Static} ()\label{classpersonal_robotics_1_1_object_segmentor_a412cac1506b709c06548bdfbac1f143d}

\begin{DoxyCompactList}\small\item\em Returns true if the scene is static, false otherwise. \end{DoxyCompactList}\item 
void \hyperlink{classpersonal_robotics_1_1_object_segmentor_a44bbf97572b59f392b73fff1fafccc24}{set\+Homography} (cv\+::\+Mat inhomography, int width, int height)
\begin{DoxyCompactList}\small\item\em Sets the homography between the color camera of the kinect and the projected screen followed by, computing the \hyperlink{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{plane\+Normals} . \end{DoxyCompactList}\item 
bool \hyperlink{classpersonal_robotics_1_1_object_segmentor_af4398a1e3f406755ab96787b7d9c50ca}{find\+Table\+Plane} ()
\begin{DoxyCompactList}\small\item\em Estimates the table plane equation using least squares fit with R\+A\+N\+S\+A\+C. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_af02e44cac03022eb39147f63316a2008}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_af02e44cac03022eb39147f63316a2008}{start\+Segmentor} ()\label{classpersonal_robotics_1_1_object_segmentor_af02e44cac03022eb39147f63316a2008}

\begin{DoxyCompactList}\small\item\em Starts the segmentor thread that runs \hyperlink{classpersonal_robotics_1_1_object_segmentor_a54dffdc44e4b61ee329c7524f5c04ed1}{segmentor\+Thread\+Routine()}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a54dffdc44e4b61ee329c7524f5c04ed1}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_a54dffdc44e4b61ee329c7524f5c04ed1}{segmentor\+Thread\+Routine} ()\label{classpersonal_robotics_1_1_object_segmentor_a54dffdc44e4b61ee329c7524f5c04ed1}

\begin{DoxyCompactList}\small\item\em Runs \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad2e4795303539fb1cdd9408730e446cc}{plane\+Segment()} in a loop, handling the pausing and stopping of the segmentor. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a7704862f53318f456f3efd58d007ea3b}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_a7704862f53318f456f3efd58d007ea3b}{stop\+Segmentor} ()\label{classpersonal_robotics_1_1_object_segmentor_a7704862f53318f456f3efd58d007ea3b}

\begin{DoxyCompactList}\small\item\em Stops the segmentor\+Thread\+Routine and mergers the thread cleanly with the parent thread. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a1e86b4a949c644ab5d9d0079f3e57cad}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_a1e86b4a949c644ab5d9d0079f3e57cad}{pause\+Segmentor} ()\label{classpersonal_robotics_1_1_object_segmentor_a1e86b4a949c644ab5d9d0079f3e57cad}

\begin{DoxyCompactList}\small\item\em Pauses the production of the \hyperlink{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}{. }\end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_ab65274e8f1119d39c80e4e0727432336}{}void \hyperlink{classpersonal_robotics_1_1_object_segmentor_ab65274e8f1119d39c80e4e0727432336}{resume\+Segmentor} ()\label{classpersonal_robotics_1_1_object_segmentor_ab65274e8f1119d39c80e4e0727432336}

\begin{DoxyCompactList}\small\item\em Resumes the segmetor. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_ad318d1a55224a9de468b66ffc477ebc6}{}bool \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad318d1a55224a9de468b66ffc477ebc6}{calculate\+Overall\+Change\+In\+Frames} (std\+::vector$<$ \hyperlink{structpersonal_robotics_1_1_i_d_look_up}{I\+D\+Look\+Up} $>$ c\+I\+D\+List)\label{classpersonal_robotics_1_1_object_segmentor_ad318d1a55224a9de468b66ffc477ebc6}

\begin{DoxyCompactList}\small\item\em Returns true if the scene is static for a certain number of frames. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a742bab296bfdbba8a449163dc7209180}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_a742bab296bfdbba8a449163dc7209180}{calculate\+Entity\+Differences} (cv\+::\+Point2f I\+Dcentroid, cv\+::\+Point2f object\+Centroid, float I\+Dangle, float object\+Angle, cv\+::\+Size2f I\+D\+Bounding\+Size, cv\+::\+Size2f object\+Bounding\+Size)\label{classpersonal_robotics_1_1_object_segmentor_a742bab296bfdbba8a449163dc7209180}

\begin{DoxyCompactList}\small\item\em Calculates a score that is a representative of difference between two entities based on pose and size. Smaller the score, better the match. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a9b69d4969a53e50bcd6c7e59b9ec2b19}{}bool \hyperlink{classpersonal_robotics_1_1_object_segmentor_a9b69d4969a53e50bcd6c7e59b9ec2b19}{on\+Bounding\+Edges} (pcl\+::\+Point\+X\+Y\+Z point)\label{classpersonal_robotics_1_1_object_segmentor_a9b69d4969a53e50bcd6c7e59b9ec2b19}

\begin{DoxyCompactList}\small\item\em Return true if a point is close to the any of the plane in \hyperlink{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{plane\+Normals} . false otherwise. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a11ae4522730ff37ab707dbacaf9c09fa}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_object_segmentor_a11ae4522730ff37ab707dbacaf9c09fa}{new\+List\+Generated}\label{classpersonal_robotics_1_1_object_segmentor_a11ae4522730ff37ab707dbacaf9c09fa}

\begin{DoxyCompactList}\small\item\em Set to true each time the \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad2e4795303539fb1cdd9408730e446cc}{plane\+Segment()} method generates a new list of entities. The consumer function can set it to false after acknowleding the arrival of new list and use it as a signal to wait on. \end{DoxyCompactList}\item 
\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_object_segmentor_a28d4c34eee7a10dc1d2bdd9ac5e2835e}{pause\+Thread\+Flag}
\begin{DoxyCompactList}\small\item\em Pauses the segmentor\+Routine() to pause producing new \hyperlink{}{enity\+List} . Refer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad2e4795303539fb1cdd9408730e446cc}{plane\+Segment} ()
\begin{DoxyCompactList}\small\item\em The core routine of the program which segments out objects on the table and generates a list of entities with relavant information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a9289ca41342c0d668e607aedf5e942a9}{}int \hyperlink{classpersonal_robotics_1_1_object_segmentor_a9289ca41342c0d668e607aedf5e942a9}{max\+Ransac\+Iters}\label{classpersonal_robotics_1_1_object_segmentor_a9289ca41342c0d668e607aedf5e942a9}

\begin{DoxyCompactList}\small\item\em Maximum iterations for the R\+A\+N\+S\+A\+C for estimating the table plane. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_ad9c9d0decbab77de45de076291a07c6a}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad9c9d0decbab77de45de076291a07c6a}{ransac\+Margin}\label{classpersonal_robotics_1_1_object_segmentor_ad9c9d0decbab77de45de076291a07c6a}

\begin{DoxyCompactList}\small\item\em Threshold to distinguish inliers from outliers. Any point is a inlier to a hypothesised plane if the distance between the plane and the point is less than this threshold. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_aebc9c344c5001ab22746b2071783fc2a}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_aebc9c344c5001ab22746b2071783fc2a}{dist\+Cutoff}\label{classpersonal_robotics_1_1_object_segmentor_aebc9c344c5001ab22746b2071783fc2a}

\begin{DoxyCompactList}\small\item\em Distance margin within which a point is consider to belong to the table plane. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_aa1f6238eb8f7bc42384f3b2016a13416}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_aa1f6238eb8f7bc42384f3b2016a13416}{radial\+Threshold}\label{classpersonal_robotics_1_1_object_segmentor_aa1f6238eb8f7bc42384f3b2016a13416}

\begin{DoxyCompactList}\small\item\em \mbox{[}D\+E\+P\+R\+E\+C\+A\+T\+E\+D\mbox{]} The radius of the circle beyond which the depth pixel are ignored. The distances are computed after accounting for the intrinsics of the depth camera matrix(d = sqrt((X/\+Z)$^\wedge$2 + (Y/\+Z)$^\wedge$2)). \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_aff532da1615f30842194f6da1c083423}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_aff532da1615f30842194f6da1c083423}{cluster\+Tolerance}\label{classpersonal_robotics_1_1_object_segmentor_aff532da1615f30842194f6da1c083423}

\begin{DoxyCompactList}\small\item\em Threshold for including a point in a cluster. The point is included in the cluster if the distance between the point and its closest point in the cluster is less this threshold. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_aea041b14924056573ba1f3a6f583f9a9}{}int \hyperlink{classpersonal_robotics_1_1_object_segmentor_aea041b14924056573ba1f3a6f583f9a9}{min\+Cluster\+Size}\label{classpersonal_robotics_1_1_object_segmentor_aea041b14924056573ba1f3a6f583f9a9}

\begin{DoxyCompactList}\small\item\em Minimum size of the cluster below which the cluster is drpped. The size of the cluster is the number of points that belong to that cluster. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a1399221b16239bf902cf1c07536743d3}{}int \hyperlink{classpersonal_robotics_1_1_object_segmentor_a1399221b16239bf902cf1c07536743d3}{max\+Cluster\+Size}\label{classpersonal_robotics_1_1_object_segmentor_a1399221b16239bf902cf1c07536743d3}

\begin{DoxyCompactList}\small\item\em Maazimum size of the cluster beyond which the cluster is dropped for computaional purposes. The size of the cluster is the number of points that belong to that cluster. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_acf97d17ad413314b2fb2c37e23965897}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_acf97d17ad413314b2fb2c37e23965897}{min\+Threshold}\label{classpersonal_robotics_1_1_object_segmentor_acf97d17ad413314b2fb2c37e23965897}

\begin{DoxyCompactList}\small\item\em Minimum depth(\+Z) below which the points are rejected. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a6c231e1c3a430d1df8da3684e9e9e56d}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_a6c231e1c3a430d1df8da3684e9e9e56d}{max\+Threshold}\label{classpersonal_robotics_1_1_object_segmentor_a6c231e1c3a430d1df8da3684e9e9e56d}

\begin{DoxyCompactList}\small\item\em Maximum depth(\+Z) beyond which the points are rejected. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a7c43b8387dd4c3c52fc8a99f6db827e4}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_a7c43b8387dd4c3c52fc8a99f6db827e4}{object\+Difference\+Threshold}\label{classpersonal_robotics_1_1_object_segmentor_a7c43b8387dd4c3c52fc8a99f6db827e4}

\begin{DoxyCompactList}\small\item\em Threshold score below which two entities in consecutive frames are considered the same. The score is computed by \hyperlink{classpersonal_robotics_1_1_object_segmentor_a742bab296bfdbba8a449163dc7209180}{calculate\+Entity\+Differences()} function. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a2cacaff215dc851445d3d111786e2c12}{}float \hyperlink{classpersonal_robotics_1_1_object_segmentor_a2cacaff215dc851445d3d111786e2c12}{object\+Movement\+Threshold}\label{classpersonal_robotics_1_1_object_segmentor_a2cacaff215dc851445d3d111786e2c12}

\begin{DoxyCompactList}\small\item\em Minimum distance the centroid of an entity needs to translate in two cosecutive frames for the entity to be considered non-\/static. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_afd8a8a0d82a7116b78142f4ef3fa3c49}{}pcl\+::\+Point\+Cloud$<$ pcl\+::\+Point\+X\+Y\+Z $>$\+::Ptr \hyperlink{classpersonal_robotics_1_1_object_segmentor_afd8a8a0d82a7116b78142f4ef3fa3c49}{pcl\+Ptr}\label{classpersonal_robotics_1_1_object_segmentor_afd8a8a0d82a7116b78142f4ef3fa3c49}

\begin{DoxyCompactList}\small\item\em Container to store the pruned point cloud. See \hyperlink{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{plane\+Normals}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a90ab411e0e2126ae467fe46b3e2a3cf8}{}pcl\+::\+Model\+Coefficients\+::\+Ptr \hyperlink{classpersonal_robotics_1_1_object_segmentor_a90ab411e0e2126ae467fe46b3e2a3cf8}{plane\+Ptr}\label{classpersonal_robotics_1_1_object_segmentor_a90ab411e0e2126ae467fe46b3e2a3cf8}

\begin{DoxyCompactList}\small\item\em Equation of the plane as estimated by \hyperlink{classpersonal_robotics_1_1_object_segmentor_af4398a1e3f406755ab96787b7d9c50ca}{find\+Table\+Plane()} using least squares fit with R\+A\+N\+S\+A\+C for robust estimation. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}{}std\+::vector$<$ \hyperlink{classpersonal_robotics_1_1_entity}{personal\+Robotics\+::\+Entity} $>$ \hyperlink{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}{entity\+List}\label{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}

\begin{DoxyCompactList}\small\item\em A list of entities detected in the current scene. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a1c8c4d3bb2abf7caa077d8f45849f416}{}cv\+::\+Mat \hyperlink{classpersonal_robotics_1_1_object_segmentor_a1c8c4d3bb2abf7caa077d8f45849f416}{homography}\label{classpersonal_robotics_1_1_object_segmentor_a1c8c4d3bb2abf7caa077d8f45849f416}

\begin{DoxyCompactList}\small\item\em The homography set by the function \hyperlink{classpersonal_robotics_1_1_object_segmentor_a44bbf97572b59f392b73fff1fafccc24}{set\+Homography()}. \end{DoxyCompactList}\item 
std\+::vector$<$ cv\+::\+Point3f $>$ \hyperlink{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{plane\+Normals}
\begin{DoxyCompactList}\small\item\em Set of 4 plane normals, expressed in the same coordinate system as the point cloud, that connect the origin of the camera space to the 4 edges of the projected screen. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a7ba1dca4b7433b87ed9028227d0929b3}{}cv\+::\+Point2f \hyperlink{classpersonal_robotics_1_1_object_segmentor_a7ba1dca4b7433b87ed9028227d0929b3}{rgb\+Pixel\+Size}\label{classpersonal_robotics_1_1_object_segmentor_a7ba1dca4b7433b87ed9028227d0929b3}

\begin{DoxyCompactList}\small\item\em A rough estimate of the rgb pixel size when projected on to the table plane. The size is expressed in mm. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a11e5491339e7f1b543835f10a5daef46}{}std\+::vector$<$ \hyperlink{structpersonal_robotics_1_1_i_d_look_up}{I\+D\+Look\+Up} $>$ \hyperlink{classpersonal_robotics_1_1_object_segmentor_a11e5491339e7f1b543835f10a5daef46}{previous\+I\+D\+List}\label{classpersonal_robotics_1_1_object_segmentor_a11e5491339e7f1b543835f10a5daef46}

\begin{DoxyCompactList}\small\item\em A list containing characteristic information of the entities in the last frame for the purpose of entity association across frames. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_aee37376bccaeae9e6b36da2faaa9eff0}{}std\+::vector$<$ \hyperlink{structpersonal_robotics_1_1_i_d_look_up}{I\+D\+Look\+Up} $>$ \hyperlink{classpersonal_robotics_1_1_object_segmentor_aee37376bccaeae9e6b36da2faaa9eff0}{current\+I\+D\+List}\label{classpersonal_robotics_1_1_object_segmentor_aee37376bccaeae9e6b36da2faaa9eff0}

\begin{DoxyCompactList}\small\item\em A list containing characteristic information of the entities in the current frame for the purpose of entity association across frames. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_af002f24ebb3f27183bfc0c93aab5cab2}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_object_segmentor_af002f24ebb3f27183bfc0c93aab5cab2}{pcl\+Ptr\+Lock}\label{classpersonal_robotics_1_1_object_segmentor_af002f24ebb3f27183bfc0c93aab5cab2}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_object_segmentor_afd8a8a0d82a7116b78142f4ef3fa3c49}{pcl\+Ptr}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a05518bed32d4707c6dd608722c1fdd4c}{}std\+::mutex \hyperlink{classpersonal_robotics_1_1_object_segmentor_a05518bed32d4707c6dd608722c1fdd4c}{entity\+List\+Lock}\label{classpersonal_robotics_1_1_object_segmentor_a05518bed32d4707c6dd608722c1fdd4c}

\begin{DoxyCompactList}\small\item\em Mutex to prevent race conditions while accessing \hyperlink{classpersonal_robotics_1_1_object_segmentor_aab2136d73a02806e2b09611ed67e65d9}{entity\+List}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a0f9e3d9c51b814f8f6f3f7af9893382e}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_object_segmentor_a0f9e3d9c51b814f8f6f3f7af9893382e}{stop\+Segmentor\+Flag}\label{classpersonal_robotics_1_1_object_segmentor_a0f9e3d9c51b814f8f6f3f7af9893382e}

\begin{DoxyCompactList}\small\item\em Control varibale for the while loop in \hyperlink{classpersonal_robotics_1_1_object_segmentor_a54dffdc44e4b61ee329c7524f5c04ed1}{segmentor\+Thread\+Routine()}. The loop ends and the \hyperlink{classpersonal_robotics_1_1_object_segmentor_afa78651f85b2dd6fe132d4c850ab2cef}{segementor\+Thread} exits when this is set to true by \hyperlink{classpersonal_robotics_1_1_object_segmentor_a7704862f53318f456f3efd58d007ea3b}{stop\+Segmentor()} function. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a9db85709fda1a2926267411e3c9866db}{}\hyperlink{classpersonal_robotics_1_1_mutex_type}{Mutex\+Bool} \hyperlink{classpersonal_robotics_1_1_object_segmentor_a9db85709fda1a2926267411e3c9866db}{homography\+Set\+Flag}\label{classpersonal_robotics_1_1_object_segmentor_a9db85709fda1a2926267411e3c9866db}

\begin{DoxyCompactList}\small\item\em Set to true when homograpgy is set by the \hyperlink{classpersonal_robotics_1_1_object_segmentor_a44bbf97572b59f392b73fff1fafccc24}{set\+Homography()} function. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_afa78651f85b2dd6fe132d4c850ab2cef}{}std\+::thread \hyperlink{classpersonal_robotics_1_1_object_segmentor_afa78651f85b2dd6fe132d4c850ab2cef}{segementor\+Thread}\label{classpersonal_robotics_1_1_object_segmentor_afa78651f85b2dd6fe132d4c850ab2cef}

\begin{DoxyCompactList}\small\item\em Handle to the thread running the \hyperlink{classpersonal_robotics_1_1_object_segmentor_a54dffdc44e4b61ee329c7524f5c04ed1}{segmentor\+Thread\+Routine()}. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_ae2b23b9198ab28786dbac7801aa1d0cb}{}bool \hyperlink{classpersonal_robotics_1_1_object_segmentor_ae2b23b9198ab28786dbac7801aa1d0cb}{frame\+Static}\label{classpersonal_robotics_1_1_object_segmentor_ae2b23b9198ab28786dbac7801aa1d0cb}

\begin{DoxyCompactList}\small\item\em Set to true if all the valid entities in the current frame appear to be static. false otherwise. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a09017399b3cca7c2715ea406bec511f5}{}bool \hyperlink{classpersonal_robotics_1_1_object_segmentor_a09017399b3cca7c2715ea406bec511f5}{prev\+Frame\+Static}\label{classpersonal_robotics_1_1_object_segmentor_a09017399b3cca7c2715ea406bec511f5}

\begin{DoxyCompactList}\small\item\em Set to true if all the valid entities in the previous frame appeared to be static. false otherwise. \end{DoxyCompactList}\item 
\hypertarget{classpersonal_robotics_1_1_object_segmentor_acdde55937977d3c65574ef6dbc21a47f}{}int \hyperlink{classpersonal_robotics_1_1_object_segmentor_acdde55937977d3c65574ef6dbc21a47f}{object\+Count}\label{classpersonal_robotics_1_1_object_segmentor_acdde55937977d3c65574ef6dbc21a47f}

\begin{DoxyCompactList}\small\item\em Count of valid objects in the frame. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 24 of file object\+Segmentation.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a09e8d870efcb51ed0cb0aa95b6c28552}{}\index{personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}!Object\+Segmentor@{Object\+Segmentor}}
\index{Object\+Segmentor@{Object\+Segmentor}!personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}}
\subsubsection[{Object\+Segmentor}]{\setlength{\rightskip}{0pt plus 5cm}personal\+Robotics\+::\+Object\+Segmentor\+::\+Object\+Segmentor (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classpersonal_robotics_1_1_object_segmentor_a09e8d870efcb51ed0cb0aa95b6c28552}
Constructs the object with the default values as specified in \hyperlink{}{setting.\+h} . Also starts the kinect reader thread by calling \hyperlink{classpersonal_robotics_1_1_kinect_reader_adc75d3fe175de9d6fea8b48ae90de06c}{start\+Kinect()} 

Definition at line 4 of file object\+Segmentation.\+cpp.



\subsection{Member Function Documentation}
\hypertarget{classpersonal_robotics_1_1_object_segmentor_af4398a1e3f406755ab96787b7d9c50ca}{}\index{personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}!find\+Table\+Plane@{find\+Table\+Plane}}
\index{find\+Table\+Plane@{find\+Table\+Plane}!personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}}
\subsubsection[{find\+Table\+Plane}]{\setlength{\rightskip}{0pt plus 5cm}bool personal\+Robotics\+::\+Object\+Segmentor\+::find\+Table\+Plane (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classpersonal_robotics_1_1_object_segmentor_af4398a1e3f406755ab96787b7d9c50ca}
Estimates the table plane equation using least squares fit. The outlies are pruned using R\+A\+N\+S\+A\+C. The function assumes that the table top is the most dominant planar feature in the field of view of the kinects depth camera. 

Definition at line 446 of file object\+Segmentation.\+cpp.

\hypertarget{classpersonal_robotics_1_1_object_segmentor_ad2e4795303539fb1cdd9408730e446cc}{}\index{personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}!plane\+Segment@{plane\+Segment}}
\index{plane\+Segment@{plane\+Segment}!personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}}
\subsubsection[{plane\+Segment}]{\setlength{\rightskip}{0pt plus 5cm}void personal\+Robotics\+::\+Object\+Segmentor\+::plane\+Segment (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classpersonal_robotics_1_1_object_segmentor_ad2e4795303539fb1cdd9408730e446cc}
This is the core routine of the program. The function perfoms the following operations. \begin{DoxyItemize}
\item {\ttfamily Prunes} the point cloud based on the \hyperlink{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{plane\+Normals} to reject all the point outside the region of interest. \item {\ttfamily Perform} plane based segmentation and extract all the points that lie above the table plane. \item {\ttfamily Perform} statistical outlier removal to suppress noise followed by voxel grid based down-\/sampling. \item {\ttfamily Perform} clustering. Each cluster thus formed corresponds to an entity in the scene. \item {\ttfamily Check} the validity of each cluster and rejecting the clusters that are connected to the frustum walls/(\hyperlink{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{plane\+Normals}). \item {\ttfamily Reproject} each cluster onto the R\+G\+B image and compute the centroid, principle axes and 2\+D pose. \item {\ttfamily Match} each cluster\textquotesingle{}s attributes with the attributes of the clusters in the previous frame and create an association between the clusters across the frames. \item {\ttfamily Check} if the scene has come to rest and generate data for each entity in the list of entities. See \hyperlink{}{generate\+Data()}. \end{DoxyItemize}


Definition at line 225 of file object\+Segmentation.\+cpp.

\hypertarget{classpersonal_robotics_1_1_object_segmentor_a44bbf97572b59f392b73fff1fafccc24}{}\index{personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}!set\+Homography@{set\+Homography}}
\index{set\+Homography@{set\+Homography}!personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}}
\subsubsection[{set\+Homography}]{\setlength{\rightskip}{0pt plus 5cm}void personal\+Robotics\+::\+Object\+Segmentor\+::set\+Homography (
\begin{DoxyParamCaption}
\item[{cv\+::\+Mat}]{inhomography, }
\item[{int}]{width, }
\item[{int}]{height}
\end{DoxyParamCaption}
)}\label{classpersonal_robotics_1_1_object_segmentor_a44bbf97572b59f392b73fff1fafccc24}
Sets the homography between the color camera of the kinect and the projected screen followed by, computing the \hyperlink{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{plane\+Normals} . This routine needs the \hyperlink{classpersonal_robotics_1_1_object_segmentor_a90ab411e0e2126ae467fe46b3e2a3cf8}{plane\+Ptr} be set by \hyperlink{classpersonal_robotics_1_1_object_segmentor_af4398a1e3f406755ab96787b7d9c50ca}{find\+Table\+Plane()} function. 

Definition at line 81 of file object\+Segmentation.\+cpp.



\subsection{Member Data Documentation}
\hypertarget{classpersonal_robotics_1_1_object_segmentor_a28d4c34eee7a10dc1d2bdd9ac5e2835e}{}\index{personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}!pause\+Thread\+Flag@{pause\+Thread\+Flag}}
\index{pause\+Thread\+Flag@{pause\+Thread\+Flag}!personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}}
\subsubsection[{pause\+Thread\+Flag}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mutex\+Bool} personal\+Robotics\+::\+Object\+Segmentor\+::pause\+Thread\+Flag}\label{classpersonal_robotics_1_1_object_segmentor_a28d4c34eee7a10dc1d2bdd9ac5e2835e}
\begin{DoxySeeAlso}{See also}
\hyperlink{classpersonal_robotics_1_1_object_segmentor_a1e86b4a949c644ab5d9d0079f3e57cad}{pause\+Segmentor()}, \hyperlink{classpersonal_robotics_1_1_object_segmentor_ab65274e8f1119d39c80e4e0727432336}{resume\+Segmentor()} 
\end{DoxySeeAlso}


Definition at line 106 of file object\+Segmentation.\+h.

\hypertarget{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}{}\index{personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}!plane\+Normals@{plane\+Normals}}
\index{plane\+Normals@{plane\+Normals}!personal\+Robotics\+::\+Object\+Segmentor@{personal\+Robotics\+::\+Object\+Segmentor}}
\subsubsection[{plane\+Normals}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$cv\+::\+Point3f$>$ personal\+Robotics\+::\+Object\+Segmentor\+::plane\+Normals\hspace{0.3cm}{\ttfamily [protected]}}\label{classpersonal_robotics_1_1_object_segmentor_a2d9b43c69441221cd4b03b61da1ba1ae}
Set of 4 plane normals, expressed in the same coordinate system as the point cloud, that connect the origin of the camera space to the 4 edges of the projected screen. As the planes pass through the camera center, the d term is 0, giving a complete plane equation. Only points that lie with-\/in the frustum fromed by the four planes are considered for further processing like clustering, etc. by the \hyperlink{classpersonal_robotics_1_1_object_segmentor_ad2e4795303539fb1cdd9408730e446cc}{plane\+Segment()} function. 

Definition at line 53 of file object\+Segmentation.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/object\+Segmentation.\+h\item 
src/object\+Segmentation.\+cpp\end{DoxyCompactItemize}
